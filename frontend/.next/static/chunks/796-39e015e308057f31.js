"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[796],{20796:(e,t,s)=>{s.d(t,{default:()=>g});var l=s(73365),a=s(1521),r=s(1702),o=s(57353);let n=e=>{let{value:t,onCustomerSelect:s,error:r=!1,disabled:n=!1,className:i=""}=e,[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!1),x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";m(!0);try{let t=new URLSearchParams;e&&t.append("search",e),t.append("limit","50");let s="/api/customers?".concat(t),l=await fetch(s);if(l.ok){let e=await l.json();d(e.customers)}else console.error("Failed to fetch customers")}catch(e){console.error("Error fetching customers:",e)}finally{m(!1)}};(0,a.useEffect)(()=>{x()},[]);let g=c.map(e=>({value:e._id,label:"".concat(e.shopName," - ").concat(e.name),customer:e}));return(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)(o.A,{options:g,value:t,onChange:e=>{if(e&&s&&"function"==typeof s){let t=c.find(t=>t._id===e);t&&s(t)}},placeholder:"Select a customer",searchable:!0,loading:u,disabled:n,error:r,onSearch:e=>{x(e)},displayKey:"label",valueKey:"value"}),t&&(0,l.jsx)("div",{className:"mt-2 p-2 bg-gray-50 rounded-md",children:(()=>{var e;let s=c.find(e=>e._id===t);return s?(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("div",{className:"font-medium text-gray-900",children:s.shopName}),(0,l.jsxs)("div",{className:"text-gray-600",children:[s.name," • ",s.phoneNumber]}),(0,l.jsx)("div",{className:"text-gray-500 text-xs mt-1",children:s.address}),(0,l.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:["Balance: ₹",(null==(e=s.currentBalance)?void 0:e.toFixed(2))||"0.00"]})]}):null})()})]})},i=e=>{let{value:t,onProductSelect:s,error:r=!1,disabled:n=!1,className:i="",placeholder:c="Select a product"}=e,[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(!1),g=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";x(!0);try{let t=new URLSearchParams;e&&t.append("search",e),t.append("limit","50");let s=await fetch("/api/products?".concat(t));if(s.ok){let e=await s.json();u(e.products)}else console.error("Failed to fetch products")}catch(e){console.error("Error fetching products:",e)}finally{x(!1)}};(0,a.useEffect)(()=>{g()},[]);let b=d.map(e=>({value:e.name,label:e.name,product:e}));return(0,l.jsx)("div",{className:i,children:(0,l.jsx)(o.A,{options:b,value:t,onChange:e=>{if(e&&s&&"function"==typeof s){let t=d.find(t=>t.name===e);t&&s(t)}},placeholder:c||"Select a product",searchable:!0,loading:m,disabled:n,error:r,onSearch:e=>{g(e)},displayKey:"label",valueKey:"value"})})};var c=s(64427),d=s(41633),u=s(21071),m=s(34467),x=s(79456);let g=e=>{var t,s,g;let{initialData:b=null,mode:h="create",onSave:p=null,onCancel:f=null}=e,v=(0,r.useRouter)(),[y,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(""),[C,k]=(0,a.useState)(!1),[S,V]=(0,a.useState)(null),[D,A]=(0,a.useState)({customerId:"",customerName:"",date:new Date().toISOString().split("T")[0],discount:0,notes:""}),[L,I]=(0,a.useState)([{product:"",expiryDate:"",qty:"",rate:"",unit:"",taxableValue:0,gst:0,invoiceValue:0,productDetails:null}]),[E,F]=(0,a.useState)({taxableValue:0,gst:0,invoiceValue:0,total:0}),[q,T]=(0,a.useState)([]),B=["kg","packet","piece","dozen","box"];(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/products");if(e.ok){let t=await e.json();T(t.products||[])}}catch(e){console.error("Error fetching products:",e)}})()},[]),(0,a.useEffect)(()=>{b&&"edit"===h&&(A({customerId:b.customerId||"",customerName:b.customerName||"",date:b.date?new Date(b.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],discount:b.discount||0,notes:b.notes||""}),b.items&&b.items.length>0&&I(b.items.map(e=>({product:e.product||"",expiryDate:e.expiryDate||"",qty:e.qty||"",rate:e.rate||"",unit:e.unit||"",taxableValue:e.taxableValue||0,gst:e.gst||0,invoiceValue:e.invoiceValue||0,productDetails:null}))))},[b,h]),(0,a.useEffect)(()=>{let e=0,t=0,s=0;L.forEach(l=>{e+=l.taxableValue||0,t+=l.gst||0,s+=l.invoiceValue||0});let l=parseFloat(D.discount)||0,a=s-l;F({taxableValue:e,gst:t,invoiceValue:s,total:a})},[L,D.discount]);let O=(e,t)=>{A(s=>({...s,[e]:t}))},R=(e,t,s)=>{let l=[...L];if(l[e]={...l[e],[t]:s},"qty"===t||"rate"===t){let t=parseFloat(l[e].qty)||0,s=parseFloat(l[e].rate)||0,a=l[e].product,r=l[e].productDetails;if(a&&t&&s){let o=(0,c.Rf)(r||a,t,s,l[e].expiryDate);l[e]={...l[e],taxableValue:o.taxableValue,gst:o.gst,invoiceValue:o.invoiceValue}}}I(l)},P=()=>{A({customerId:"",customerName:"",date:new Date().toISOString().split("T")[0],discount:0,notes:""}),I([{product:"",expiryDate:"",qty:"",rate:"",unit:"",taxableValue:0,gst:0,invoiceValue:0,productDetails:null}]),F({taxableValue:0,gst:0,invoiceValue:0,total:0})},_=async e=>{e.preventDefault(),j(!0),w("");try{let e={customerId:D.customerId,customerName:D.customerName,items:L.map(e=>{var t;return{product:e.product.toLowerCase(),qty:parseFloat(e.qty),rate:parseFloat(e.rate),unit:e.unit,hsnCode:(null==(t=e.productDetails)?void 0:t.hsnCode)||"",expiryDate:e.expiryDate}}),discount:parseFloat(D.discount),date:D.date,notes:D.notes},t="edit"===h?"/api/sales/".concat(b.id):"/api/sales",s=await fetch(t,{method:"edit"===h?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok){let e=await s.json();p?p(e):(V(e),k(!0),P())}else{let e=await s.json();w(e.message||"Failed to save invoice")}}catch(e){console.error("Error saving invoice:",e),w("Failed to save invoice")}finally{j(!1)}};return(0,l.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,l.jsxs)(m.A,{className:"p-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"create"===h?"Create Sales Invoice":"Edit Sales Invoice"}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString()})]}),N&&(0,l.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,l.jsx)("p",{className:"text-red-600 font-medium",children:N})}),(0,l.jsxs)("form",{onSubmit:_,className:"space-y-8",children:[(0,l.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Invoice Details"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Date"}),(0,l.jsx)(u.A,{type:"date",value:D.date,onChange:e=>O("date",e.target.value),required:!0,className:"w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name"}),(0,l.jsx)(n,{value:null==D?void 0:D.customerId,onCustomerSelect:e=>{A(t=>({...t,customerId:e._id,customerName:null==e?void 0:e.name}))},required:!0})]})]})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Items"}),(0,l.jsx)(d.A,{type:"button",onClick:()=>{I([...L,{product:"",expiryDate:"",qty:"",rate:"",unit:"",taxableValue:0,gst:0,invoiceValue:0,productDetails:null}])},className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg",children:"+ Add Item"})]}),L.map((e,t)=>{var s;let a;return(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 bg-white shadow-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsxs)("h4",{className:"text-lg font-medium text-gray-700",children:["Item ",t+1]}),L.length>1&&(0,l.jsx)(d.A,{type:"button",onClick:()=>{L.length>1&&I(L.filter((e,s)=>s!==t))},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 text-sm rounded-lg",children:"Remove Item"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product"}),(0,l.jsx)(i,{value:e.product,onProductSelect:e=>((e,t)=>{let s=[...L];if(s[e]={...s[e],product:t.name,rate:t.rate,unit:t.unit,productDetails:t},s[e].qty&&t.rate){let l=(0,c.Rf)(t,s[e].qty,t.rate,s[e].expiryDate);s[e]={...s[e],taxableValue:l.taxableValue,gst:l.gst,invoiceValue:l.invoiceValue}}I(s)})(t,e),placeholder:"Select product...",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"HSN Code"}),(0,l.jsx)(u.A,{value:(null===(a=e.product,s=q.find(e=>e.name.toLowerCase()===a.toLowerCase()))||void 0===s?void 0:s.hsnCode)||"",disabled:!0,className:"bg-gray-50 w-full",placeholder:"HSN Code"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date"}),(0,l.jsx)(u.A,{type:"date",value:e.expiryDate,onChange:e=>R(t,"expiryDate",e.target.value),required:!0,className:"w-full"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),(0,l.jsx)(u.A,{type:"number",value:e.qty,onChange:e=>R(t,"qty",e.target.value),placeholder:"Enter quantity",min:"0",step:"0.01",required:!0,className:"w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit"}),(0,l.jsx)(o.A,{options:B.map(e=>({value:e,label:e})),value:e.unit,onChange:e=>R(t,"unit",e),placeholder:"Unit",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate"}),(0,l.jsx)(u.A,{type:"number",value:e.rate,onChange:e=>R(t,"rate",e.target.value),placeholder:"Enter rate per unit",min:"0",step:"0.01",required:!0,className:"w-full"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 bg-gray-50 p-4 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxable Value"}),(0,l.jsx)(u.A,{value:"₹".concat(e.taxableValue.toFixed(2)),disabled:!0,className:"bg-white border-gray-200 font-semibold"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST"}),(0,l.jsx)(u.A,{value:"₹".concat(e.gst.toFixed(2)),disabled:!0,className:"bg-white border-gray-200 font-semibold"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Value"}),(0,l.jsx)(u.A,{value:"₹".concat(e.invoiceValue.toFixed(2)),disabled:!0,className:"bg-white border-gray-200 font-semibold"})]})]})]},t)})]}),(0,l.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Invoice Summary"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Taxable Value"}),(0,l.jsx)(u.A,{value:"₹".concat(E.taxableValue.toFixed(2)),disabled:!0,className:"bg-white border-gray-200 font-semibold"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total GST"}),(0,l.jsx)(u.A,{value:"₹".concat(E.gst.toFixed(2)),disabled:!0,className:"bg-white border-gray-200 font-semibold"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount"}),(0,l.jsx)(u.A,{type:"number",value:D.discount,onChange:e=>O("discount",e.target.value),placeholder:"Enter discount amount",min:"0",step:"0.01",className:"w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Invoice Value"}),(0,l.jsx)(u.A,{value:"₹".concat(E.invoiceValue.toFixed(2)),disabled:!0,className:"bg-white border-gray-200 font-semibold"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Final Total"}),(0,l.jsx)(u.A,{value:"₹".concat(E.total.toFixed(2)),disabled:!0,className:"bg-green-100 border-green-300 text-green-800 font-bold text-lg"})]})]})]}),(0,l.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Additional Information"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,l.jsx)(u.A,{value:D.notes,onChange:e=>O("notes",e.target.value),placeholder:"Additional notes...",className:"w-full"})]})]}),(0,l.jsxs)("div",{className:"flex gap-4 pt-6 border-t border-gray-200 justify-end items-center",children:[(0,l.jsx)(d.A,{type:"button",variant:"secondary",onClick:P,className:"px-8 py-3 rounded-lg",children:"Reset Form"}),(0,l.jsx)(d.A,{type:"submit",disabled:y,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold",children:y?"Creating...":"".concat("create"===h?"Create":"Update"," Sales Invoice")})]})]})]}),(0,l.jsx)(x.A,{isOpen:C,onClose:()=>k(!1),type:"success",title:"Sales Invoice Created Successfully!",message:S?"Sales invoice ".concat((null==(t=S.sale)?void 0:t.invoiceNo)||"has been created"," successfully with a total amount of ₹").concat((null==(g=S.sale)||null==(s=g.total)?void 0:s.toFixed(2))||E.total.toFixed(2),"."):"Sales invoice has been created successfully!",confirmText:"View Sales List",onConfirm:()=>{k(!1),V(null),v.push("/dashboard/sales")}})]})}},21071:(e,t,s)=>{s.d(t,{A:()=>a});var l=s(73365);s(1521);let a=e=>{let{type:t="text",label:s,placeholder:a,value:r,onChange:o,onBlur:n,onFocus:i,error:c,success:d,disabled:u=!1,required:m=!1,readOnly:x=!1,className:g="",size:b="md",fullWidth:h=!0,icon:p,iconPosition:f="left",helperText:v,...y}=e,j=["block w-full border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-0 text-gray-900 placeholder-gray-500",{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-4 py-3 text-base"}[b],{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-300 focus:border-red-500 focus:ring-red-500",success:"border-green-300 focus:border-green-500 focus:ring-green-500"}[c?"error":d?"success":"default"],u?"bg-gray-50 cursor-not-allowed text-gray-500":"bg-white",h?"w-full":"",p&&"left"===f?"pl-10":"",p&&"right"===f?"pr-10":"",g].filter(Boolean).join(" ");return(0,l.jsxs)("div",{className:"".concat(h?"w-full":""),children:[s&&(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s,m&&(0,l.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,l.jsxs)("div",{className:"relative",children:[p&&"left"===f&&(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)("span",{className:"text-gray-400",children:p})}),(0,l.jsx)("input",{type:t,className:j,placeholder:a,value:r,onChange:o,onBlur:n,onFocus:i,disabled:u,required:m,readOnly:x,...y}),p&&"right"===f&&(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,l.jsx)("span",{className:"text-gray-400",children:p})})]}),c&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c}),d&&(0,l.jsx)("p",{className:"mt-1 text-sm text-green-600",children:d}),v&&!c&&!d&&(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:v})]})}},57353:(e,t,s)=>{s.d(t,{A:()=>r});var l=s(73365),a=s(1521);let r=e=>{let{options:t=[],value:s,onChange:r,placeholder:o="Select an option",searchable:n=!1,loading:i=!1,disabled:c=!1,error:d=!1,onSearch:u=null,displayKey:m="label",valueKey:x="value",className:g=""}=e,[b,h]=(0,a.useState)(!1),[p,f]=(0,a.useState)(""),v=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=e=>{v.current&&!v.current.contains(e.target)&&(h(!1),f(""))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let y=n&&p?t.filter(e=>e[m].toLowerCase().includes(p.toLowerCase())):t;return(0,l.jsxs)("div",{className:"relative ".concat(g),ref:v,children:[(0,l.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),!c&&(h(!b),b||f(""))},disabled:c,className:"\n          w-full px-3 py-2.5 text-left border rounded-lg shadow-sm bg-white text-gray-900\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n          disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed\n          ".concat(d?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300","\n          ").concat(b?"ring-2 ring-blue-500 border-blue-500":"","\n        "),children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"".concat(s?"text-gray-900":"text-gray-500"," truncate text-sm flex-1 min-w-0"),children:(()=>{let e=t.find(e=>e[x]===s);return e?e[m]:o})()}),(0,l.jsx)("svg",{className:"w-4 h-4 text-gray-400 transition-transform ".concat(b?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),b&&(0,l.jsxs)("div",{className:"absolute z-[9999] w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[n&&(0,l.jsx)("div",{className:"p-2 border-b border-gray-200",children:(0,l.jsx)("input",{type:"text",value:p,onChange:e=>{let t=e.target.value;f(t),u&&u(t)},placeholder:"Search...",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded bg-white text-gray-900 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0})}),(0,l.jsx)("div",{className:"max-h-48 overflow-y-auto",children:i?(0,l.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500",children:"Loading..."}):0===y.length?(0,l.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500",children:p?"No options found":"No options available"}):y.map((e,t)=>(0,l.jsx)("button",{type:"button",onClick:t=>((e,t)=>{t.preventDefault(),t.stopPropagation(),r&&"function"==typeof r&&r(e[x]),h(!1),f("")})(e,t),className:"\n                    w-full px-3 py-2 text-left text-sm hover:bg-gray-100 focus:bg-gray-100 focus:outline-none cursor-pointer\n                    ".concat(e[x]===s?"bg-blue-50 text-blue-900":"text-gray-900","\n                  "),children:e[m]},e[x]||t))})]})]})}},79456:(e,t,s)=>{s.d(t,{A:()=>r});var l=s(73365),a=s(1521);let r=e=>{let{isOpen:t,onClose:s,title:r,message:o,children:n,type:i="info",showCloseButton:c=!0,onConfirm:d,confirmText:u="OK",cancelText:m="Cancel",showCancelButton:x=!1,size:g="md"}=e;if((0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,s]),!t)return null;let b=(()=>{switch(i){case"success":return{icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",borderColor:"border-green-200"};case"error":return{icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),iconBg:"bg-red-100",iconColor:"text-red-600",titleColor:"text-red-800",borderColor:"border-red-200"};case"warning":return{icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),iconBg:"bg-yellow-100",iconColor:"text-yellow-600",titleColor:"text-yellow-800",borderColor:"border-yellow-200"};default:return{icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconBg:"bg-blue-100",iconColor:"text-blue-600",titleColor:"text-blue-800",borderColor:"border-blue-200"}}})(),h=(()=>{switch(g){case"sm":return"max-w-md";case"lg":return"max-w-2xl";default:return"max-w-lg"}})(),p=()=>{s()};return(0,l.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,l.jsxs)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:s}),(0,l.jsx)("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full ".concat(h),children:(0,l.jsxs)("div",{className:"border-l-4 ".concat(b.borderColor),children:[(0,l.jsx)("div",{className:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,l.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,l.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full sm:mx-0 sm:h-10 sm:w-10 ".concat(b.iconBg),children:(0,l.jsx)("div",{className:b.iconColor,children:b.icon})}),(0,l.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left w-full",children:[r&&(0,l.jsx)("h3",{className:"text-lg font-medium leading-6 ".concat(b.titleColor," mb-4"),children:r}),n?(0,l.jsx)("div",{className:"mt-2",children:n}):(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:o})})]})]})}),!n&&(0,l.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,l.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto ".concat("success"===i?"bg-green-600 hover:bg-green-500":"error"===i?"bg-red-600 hover:bg-red-500":"warning"===i?"bg-yellow-600 hover:bg-yellow-500":"bg-blue-600 hover:bg-blue-500"),onClick:()=>{d&&d(),s()},children:u}),x&&(0,l.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:p,children:m}),c&&!x&&(0,l.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:p,children:"Close"})]})]})})]})})}}}]);