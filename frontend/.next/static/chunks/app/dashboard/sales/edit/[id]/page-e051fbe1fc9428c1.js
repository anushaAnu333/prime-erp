(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[907],{53149:(e,s,a)=>{Promise.resolve().then(a.bind(a,93965))},93965:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var t=a(73365),l=a(1521),i=a(1702),r=a(20796),c=a(41633);let n=e=>{let{params:s}=e,a=(0,i.useRouter)(),[n,o]=(0,l.useState)(null),[d,h]=(0,l.useState)(!0),u=(0,l.use)(s).id,x=async()=>{h(!0);try{let e=await fetch("/api/sales/".concat(u));if(e.ok){let s=await e.json();o(s.sale)}else console.error("Failed to fetch sale"),a.push("/dashboard/sales")}catch(e){console.error("Error fetching sale:",e),a.push("/dashboard/sales")}finally{h(!1)}};return((0,l.useEffect)(()=>{x()},[u]),d)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Edit Invoice #",n.invoiceNumber]}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Update the invoice details and items"})]}),(0,t.jsx)(r.default,{mode:"edit",initialData:n,onSave:e=>{a.push("/dashboard/sales/".concat(e.sale.id))},onCancel:()=>{a.push("/dashboard/sales/".concat(u))}})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Invoice not found"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"The invoice you're looking for doesn't exist."}),(0,t.jsx)(c.A,{onClick:()=>a.push("/dashboard/sales"),className:"mt-4",children:"Back to Sales"})]})}}},e=>{e.O(0,[96,541,796,358],()=>e(e.s=53149)),_N_E=e.O()}]);