(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[291],{11102:(e,a,s)=>{"use strict";s.d(a,{A:()=>m});var r=s(73365),t=s(1521),d=s(1702),l=s(41633),n=s(21071),o=s(57353),c=s(34467);let m=()=>{(0,d.useRouter)();let[e,a]=(0,t.useState)(!1),[s,m]=(0,t.useState)(""),[i,x]=(0,t.useState)(""),[u,h]=(0,t.useState)({name:"",address:"",shopName:"",phoneNumber:"",companyId:""}),[p,g]=(0,t.useState)([]),[b,v]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/companies");if(a.ok){var e;let s=await a.json();console.log("Fetched companies:",s.companies),console.log("Companies count:",null==(e=s.companies)?void 0:e.length),g(s.companies||[])}else console.error("Failed to fetch companies")}catch(e){console.error("Error fetching companies:",e)}finally{v(!1)}})()},[]);let j=(e,a)=>{h(s=>({...s,[e]:a}))},N=async e=>{e.preventDefault(),a(!0),m(""),x("");try{let e={...u,currentBalance:0,companyId:u.companyId||null},a=await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok)x("Customer added successfully!"),h({name:"",address:"",shopName:"",phoneNumber:"",companyId:""});else{let e=await a.json();m(e.message||"Failed to add customer")}}catch(e){console.error("Error adding customer:",e),m("Failed to add customer")}finally{a(!1)}};return(0,r.jsx)("div",{className:"max-w-2xl mx-auto p-6",children:(0,r.jsxs)(c.A,{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add New Customer"}),s&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-600",children:s})}),i&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-green-600",children:i})}),(0,r.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),(0,r.jsx)(n.A,{type:"text",value:u.name,onChange:e=>j("name",e.target.value),placeholder:"Enter customer name",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shop Name *"}),(0,r.jsx)(n.A,{type:"text",value:u.shopName,onChange:e=>j("shopName",e.target.value),placeholder:"Enter shop name",required:!0})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),(0,r.jsx)(n.A,{type:"tel",value:u.phoneNumber,onChange:e=>j("phoneNumber",e.target.value),placeholder:"Enter phone number",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Assignment (Optional)"}),(0,r.jsx)(o.A,{options:[{value:"",label:b?"Loading companies...":"Select company (optional)"},...p.map(e=>({value:e.companyCode,label:"".concat(e.name," - ").concat(e.companyCode)}))],value:u.companyId,onChange:e=>{console.log("Selected company:",e),j("companyId",e)},disabled:b,placeholder:"Select company (optional)"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),(0,r.jsx)(n.A,{type:"text",value:u.address,onChange:e=>j("address",e.target.value),placeholder:"Enter complete address",required:!0})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-6",children:[(0,r.jsx)(l.A,{type:"submit",disabled:e,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3",children:e?"Adding...":"Add Customer"}),(0,r.jsx)(l.A,{type:"button",variant:"secondary",onClick:()=>{h({name:"",address:"",shopName:"",phoneNumber:"",companyId:""})},className:"px-6 py-3",children:"Reset Form"})]})]})]})})}},65439:(e,a,s)=>{"use strict";s.d(a,{default:()=>x});var r=s(73365),t=s(1521),d=s(64626),l=s(1702),n=s(41633),o=s(21071);s(57353);var c=s(34467);let m=()=>{(0,l.useRouter)();let[e,a]=(0,t.useState)(!1),[s,d]=(0,t.useState)(""),[m,i]=(0,t.useState)(""),[x,u]=(0,t.useState)({vendorCode:"",vendorName:"",contactPerson:"",address:"",phone:"",email:"",gstNumber:""}),h=(e,a)=>{u(s=>({...s,[e]:a}))},p=async e=>{e.preventDefault(),a(!0),d(""),i("");try{let e={...x,currentBalance:0},a=await fetch("/api/vendors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok)i("Vendor added successfully!"),u({vendorCode:"",vendorName:"",contactPerson:"",address:"",phone:"",email:"",gstNumber:""});else{let e=await a.json();d(e.message||"Failed to add vendor")}}catch(e){console.error("Error adding vendor:",e),d("Failed to add vendor")}finally{a(!1)}};return(0,r.jsx)("div",{className:"max-w-2xl mx-auto p-6",children:(0,r.jsxs)(c.A,{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add New Vendor"}),s&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-600",children:s})}),m&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-green-600",children:m})}),(0,r.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vendor Code *"}),(0,r.jsx)(o.A,{type:"text",value:x.vendorCode,onChange:e=>h("vendorCode",e.target.value),placeholder:"Enter vendor code",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vendor Name *"}),(0,r.jsx)(o.A,{type:"text",value:x.vendorName,onChange:e=>h("vendorName",e.target.value),placeholder:"Enter vendor name",required:!0})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person *"}),(0,r.jsx)(o.A,{type:"text",value:x.contactPerson,onChange:e=>h("contactPerson",e.target.value),placeholder:"Enter contact person name",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),(0,r.jsx)(o.A,{type:"tel",value:x.phone,onChange:e=>h("phone",e.target.value),placeholder:"Enter phone number",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),(0,r.jsx)(o.A,{type:"text",value:x.address,onChange:e=>h("address",e.target.value),placeholder:"Enter complete address",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,r.jsx)(o.A,{type:"email",value:x.email,onChange:e=>h("email",e.target.value),placeholder:"Enter email address"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number *"}),(0,r.jsx)(o.A,{type:"text",value:x.gstNumber,onChange:e=>h("gstNumber",e.target.value),placeholder:"Enter GST number",required:!0})]})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-6",children:[(0,r.jsx)(n.A,{type:"submit",disabled:e,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3",children:e?"Adding...":"Add Vendor"}),(0,r.jsx)(n.A,{type:"button",variant:"secondary",onClick:()=>{u({vendorCode:"",vendorName:"",contactPerson:"",address:"",phone:"",email:"",gstNumber:""})},className:"px-6 py-3",children:"Reset Form"})]})]})]})})};var i=s(11102);let x=()=>{let[e,a]=(0,t.useState)("product");return(0,r.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,r.jsxs)(c.A,{className:"p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8 text-gray-800 text-center",children:"Master Data Management"}),(0,r.jsx)("div",{className:"flex space-x-1 mb-8 bg-gray-100 p-1 rounded-lg",children:[{id:"product",name:"Add Product",icon:"\uD83D\uDCE6"},{id:"vendor",name:"Add Vendor",icon:"\uD83C\uDFE2"},{id:"customer",name:"Add Customer",icon:"\uD83D\uDC64"}].map(s=>(0,r.jsxs)("button",{onClick:()=>a(s.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md font-medium transition-all duration-200 ".concat(e===s.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,r.jsx)("span",{className:"text-lg",children:s.icon}),(0,r.jsx)("span",{children:s.name})]},s.id))}),(0,r.jsx)("div",{className:"mt-6",children:(()=>{switch(e){case"product":default:return(0,r.jsx)(d.A,{});case"vendor":return(0,r.jsx)(m,{});case"customer":return(0,r.jsx)(i.A,{})}})()})]})})}},75895:(e,a,s)=>{Promise.resolve().then(s.bind(s,65439))}},e=>{e.O(0,[96,626,358],()=>e(e.s=75895)),_N_E=e.O()}]);