(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[926],{21071:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(73365);s(1521);let l=e=>{let{type:t="text",label:s,placeholder:l,value:n,onChange:o,onBlur:a,onFocus:c,error:i,success:d,disabled:m=!1,required:u=!1,readOnly:x=!1,className:h="",size:g="md",fullWidth:f=!0,icon:p,iconPosition:b="left",helperText:y,...w}=e,v=["block w-full border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-0 text-gray-900 placeholder-gray-500",{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-4 py-3 text-base"}[g],{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-300 focus:border-red-500 focus:ring-red-500",success:"border-green-300 focus:border-green-500 focus:ring-green-500"}[i?"error":d?"success":"default"],m?"bg-gray-50 cursor-not-allowed text-gray-500":"bg-white",f?"w-full":"",p&&"left"===b?"pl-10":"",p&&"right"===b?"pr-10":"",h].filter(Boolean).join(" ");return(0,r.jsxs)("div",{className:"".concat(f?"w-full":""),children:[s&&(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s,u&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[p&&"left"===b&&(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("span",{className:"text-gray-400",children:p})}),(0,r.jsx)("input",{type:t,className:v,placeholder:l,value:n,onChange:o,onBlur:a,onFocus:c,disabled:m,required:u,readOnly:x,...w}),p&&"right"===b&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,r.jsx)("span",{className:"text-gray-400",children:p})})]}),i&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i}),d&&(0,r.jsx)("p",{className:"mt-1 text-sm text-green-600",children:d}),y&&!i&&!d&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:y})]})}},46484:(e,t,s)=>{Promise.resolve().then(s.bind(s,74468))},74468:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(73365),l=s(1521),n=s(41633),o=s(21071),a=s(34467),c=s(85299),i=s(79456),d=s(90824),m=s(18197),u=s.n(m);function x(){let[e,t]=(0,l.useState)([]),[s,m]=(0,l.useState)({search:""}),[x,h]=(0,l.useState)({page:1,total:0,totalPages:0}),[g,f]=(0,l.useState)(!1),{modalState:p,showSuccess:b,showError:y,showConfirm:w,hideModal:v}=(0,d.h)();(0,l.useEffect)(()=>{j()},[s,x.page]);let j=async()=>{f(!0);try{let e=new URLSearchParams({page:x.page.toString(),limit:"20",...s.search&&{search:s.search}}),r=await fetch("/api/products?".concat(e));if(r.ok){let e=await r.json();t(e.products||[]),h(t=>({...t,total:e.total||0,totalPages:e.totalPages||0}))}}catch(e){console.error("Error fetching products:",e),y("Failed to fetch products")}finally{f(!1)}},C=e=>{h(t=>({...t,page:e}))},N=async(e,t)=>{w('Are you sure you want to delete "'.concat(t,'"?'),"Confirm Delete",async()=>{try{(await fetch("/api/products/".concat(e),{method:"DELETE"})).ok?(b('Product "'.concat(t,'" deleted successfully')),j()):y("Failed to delete product")}catch(e){console.error("Error deleting product:",e),y("Failed to delete product")}})},k=[{key:"productCode",header:"Code",className:"w-24",render:(e,t)=>(0,r.jsx)(u(),{href:"/dashboard/products/".concat(t._id),className:"text-blue-600 hover:text-blue-800 font-medium text-sm",children:e})},{key:"name",header:"Product",className:"w-32",render:e=>(0,r.jsx)("div",{className:"text-sm",children:(0,r.jsx)("div",{className:"font-medium truncate",children:e})})},{key:"hsnCode",header:"HSN Code",className:"w-24",render:e=>(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e})},{key:"gstRate",header:"GST %",className:"w-16",render:e=>(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[e,"%"]})},{key:"actions",header:"Actions",className:"w-24",render:(e,t)=>(0,r.jsx)(c.V,{viewPath:"/dashboard/products/".concat(t._id),editPath:"/dashboard/products/edit/".concat(t._id),onDelete:()=>N(t._id,t.name),deleteConfirmMessage:'Are you sure you want to delete "'.concat(t.name,'"?'),showView:!0,showEdit:!0,showDelete:!0,size:"sm"})}];return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,r.jsxs)(a.A,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Products"}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)(u(),{href:"/dashboard/products/create",children:(0,r.jsx)(n.A,{className:"bg-blue-600 hover:bg-blue-700",children:"Add Product"})})})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(o.A,{type:"text",placeholder:"Search by product name, code, or HSN code",value:s.search,onChange:e=>{var t;return t=e.target.value,void(m(e=>({...e,search:t})),h(e=>({...e,page:1})))}})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsx)(c.A,{data:e,columns:k,loading:g,emptyMessage:"No products found"})}),x.totalPages>1&&(0,r.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing page ",x.page," of ",x.totalPages," (",x.total," total)"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.A,{variant:"outline",disabled:1===x.page,onClick:()=>C(x.page-1),children:"Previous"}),(0,r.jsx)(n.A,{variant:"outline",disabled:x.page===x.totalPages,onClick:()=>C(x.page+1),children:"Next"})]})]})]}),(0,r.jsx)(i.A,{isOpen:p.isOpen,onClose:v,title:p.title,message:p.message,type:p.type,onConfirm:p.onConfirm,confirmText:p.confirmText,cancelText:p.cancelText,showCancelButton:p.showCancelButton,size:p.size})]})}},79456:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(73365),l=s(1521);let n=e=>{let{isOpen:t,onClose:s,title:n,message:o,children:a,type:c="info",showCloseButton:i=!0,onConfirm:d,confirmText:m="OK",cancelText:u="Cancel",showCancelButton:x=!1,size:h="md"}=e;if((0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,s]),!t)return null;let g=(()=>{switch(c){case"success":return{icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",borderColor:"border-green-200"};case"error":return{icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),iconBg:"bg-red-100",iconColor:"text-red-600",titleColor:"text-red-800",borderColor:"border-red-200"};case"warning":return{icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),iconBg:"bg-yellow-100",iconColor:"text-yellow-600",titleColor:"text-yellow-800",borderColor:"border-yellow-200"};default:return{icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconBg:"bg-blue-100",iconColor:"text-blue-600",titleColor:"text-blue-800",borderColor:"border-blue-200"}}})(),f=(()=>{switch(h){case"sm":return"max-w-md";case"lg":return"max-w-2xl";default:return"max-w-lg"}})(),p=()=>{s()};return(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:s}),(0,r.jsx)("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full ".concat(f),children:(0,r.jsxs)("div",{className:"border-l-4 ".concat(g.borderColor),children:[(0,r.jsx)("div",{className:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,r.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,r.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full sm:mx-0 sm:h-10 sm:w-10 ".concat(g.iconBg),children:(0,r.jsx)("div",{className:g.iconColor,children:g.icon})}),(0,r.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left w-full",children:[n&&(0,r.jsx)("h3",{className:"text-lg font-medium leading-6 ".concat(g.titleColor," mb-4"),children:n}),a?(0,r.jsx)("div",{className:"mt-2",children:a}):(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:o})})]})]})}),!a&&(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,r.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto ".concat("success"===c?"bg-green-600 hover:bg-green-500":"error"===c?"bg-red-600 hover:bg-red-500":"warning"===c?"bg-yellow-600 hover:bg-yellow-500":"bg-blue-600 hover:bg-blue-500"),onClick:()=>{d&&d(),s()},children:m}),x&&(0,r.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:p,children:u}),i&&!x&&(0,r.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:p,children:"Close"})]})]})})]})})}},90824:(e,t,s)=>{"use strict";s.d(t,{h:()=>l});var r=s(1521);let l=()=>{let[e,t]=(0,r.useState)({isOpen:!1,title:"",message:"",type:"info",onConfirm:null,confirmText:"OK",cancelText:"Cancel",showCancelButton:!1,size:"md"}),s=(0,r.useCallback)(e=>{t({isOpen:!0,title:e.title||"",message:e.message||"",type:e.type||"info",onConfirm:e.onConfirm||null,confirmText:e.confirmText||"OK",cancelText:e.cancelText||"Cancel",showCancelButton:e.showCancelButton||!1,size:e.size||"md"})},[]),l=(0,r.useCallback)(()=>{t(e=>({...e,isOpen:!1}))},[]),n=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s({title:t,message:e,type:"success",onConfirm:r,confirmText:"OK",showCancelButton:!1})},[s]),o=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s({title:t,message:e,type:"error",onConfirm:r,confirmText:"OK",showCancelButton:!1})},[s]),a=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Warning",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;s({title:t,message:e,type:"warning",onConfirm:r,onCancel:l,confirmText:"Continue",cancelText:"Cancel",showCancelButton:!0})},[s]),c=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Information",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s({title:t,message:e,type:"info",onConfirm:r,confirmText:"OK",showCancelButton:!1})},[s]),i=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Confirm",r=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;s({title:t,message:e,type:"warning",onConfirm:r,onCancel:l,confirmText:"Yes",cancelText:"No",showCancelButton:!0})},[s]);return{modalState:e,showModal:s,hideModal:l,showSuccess:n,showError:o,showWarning:a,showInfo:c,showConfirm:i}}}},e=>{e.O(0,[96,29,358],()=>e(e.s=46484)),_N_E=e.O()}]);