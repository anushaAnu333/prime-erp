(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[692],{24834:(e,t,a)=>{"use strict";function r(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function n(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(e)}function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}function s(e){return({admin:"Administrator",manager:"Manager",accountant:"Accountant",agent:"Agent"})[e]||e}function c(e){return({admin:"bg-red-100 text-red-800",manager:"bg-blue-100 text-blue-800",accountant:"bg-green-100 text-green-800",agent:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800"}a.d(t,{B9:()=>r,cb:()=>s,cn:()=>l,qP:()=>c,vv:()=>n})},34467:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(73365),n=a(24834);let l=e=>{let{children:t,className:a="",padding:l="p-6",...s}=e,c=(0,n.cn)("bg-white rounded-lg shadow-sm border border-gray-200",l,a);return(0,r.jsx)("div",{className:c,...s,children:t})};l.Header=e=>{let{children:t,className:a="",...l}=e;return(0,r.jsx)("div",{className:(0,n.cn)("border-b border-gray-200 pb-4 mb-4",a),...l,children:t})},l.Title=e=>{let{children:t,className:a="",...l}=e;return(0,r.jsx)("h3",{className:(0,n.cn)("text-lg font-semibold text-gray-900",a),...l,children:t})},l.Content=e=>{let{children:t,className:a="",...l}=e;return(0,r.jsx)("div",{className:(0,n.cn)("",a),...l,children:t})},l.Footer=e=>{let{children:t,className:a="",...l}=e;return(0,r.jsx)("div",{className:(0,n.cn)("border-t border-gray-200 pt-4 mt-4",a),...l,children:t})};let s=l},38938:(e,t,a)=>{Promise.resolve().then(a.bind(a,63339))},41633:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(73365);a(1521);var n=a(18197),l=a.n(n);let s=e=>{let{children:t,variant:a="primary",size:n="md",disabled:s=!1,loading:c=!1,href:i,onClick:o,type:d="button",className:u="",icon:m,iconPosition:x="left",fullWidth:g=!1,...h}=e,b=["inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",warning:"bg-yellow-600 hover:bg-yellow-700 text-white focus:ring-yellow-500",info:"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400",outline:"border border-gray-300 bg-white hover:bg-gray-50 text-gray-700 focus:ring-gray-500",ghost:"bg-transparent hover:bg-gray-100 text-gray-700 focus:ring-gray-500"}[a],{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[n],g?"w-full":"",u].filter(Boolean).join(" "),f=(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!c&&m&&"left"===x&&(0,r.jsx)("span",{className:"mr-2",children:m}),t,!c&&m&&"right"===x&&(0,r.jsx)("span",{className:"ml-2",children:m})]});return i?(0,r.jsx)(l(),{href:i,className:b,...h,children:f}):(0,r.jsx)("button",{type:d,className:b,disabled:s||c,onClick:o,...h,children:f})}},63339:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(73365),n=a(1521),l=a(1702),s=a(34467),c=a(41633),i=a(18197),o=a.n(i);let d=e=>{let{title:t,data:a,fields:n=[],loading:l=!1,error:i=null,onEdit:d,onDelete:u,editPath:m,deletePath:x,backPath:g,backText:h="Back to List",showEdit:b=!0,showDelete:f=!0,showBack:y=!0,className:p="",emptyMessage:v="No data found",children:N,actions:j=[],statusField:w=null,statusConfig:C={active:{label:"Active",className:"bg-green-100 text-green-800"},inactive:{label:"Inactive",className:"bg-red-100 text-red-800"},pending:{label:"Pending",className:"bg-yellow-100 text-yellow-800"}}}=e,k=(e,t)=>{if(null==e)return"N/A";switch(t.type){case"date":return new Date(e).toLocaleDateString("en-IN");case"datetime":return new Date(e).toLocaleString("en-IN");case"currency":return Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e);case"percentage":return"".concat(e,"%");case"boolean":return e?"Yes":"No";case"status":let a=C[e]||{label:e,className:"bg-gray-100 text-gray-800"};return(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(a.className),children:a.label});default:return e}};return l?(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,r.jsx)(s.A,{className:"p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})})}):i?(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,r.jsx)(s.A,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-red-600 mb-4",children:i}),g&&(0,r.jsx)(o(),{href:g,children:(0,r.jsx)(c.A,{variant:"outline",children:h})})]})})}):a?(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-6 ".concat(p),children:(0,r.jsxs)(s.A,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:t}),(0,r.jsxs)("div",{className:"flex gap-2",children:[y&&g&&(0,r.jsx)(o(),{href:g,children:(0,r.jsx)(c.A,{variant:"outline",children:h})}),b&&(m||d)&&(m?(0,r.jsx)(o(),{href:m,children:(0,r.jsx)(c.A,{children:"Edit"})}):(0,r.jsx)(c.A,{onClick:d,children:"Edit"})),f&&(x||u)&&(0,r.jsx)(c.A,{variant:"danger",onClick:u,children:"Delete"}),j.map((e,t)=>(0,r.jsx)(c.A,{variant:e.variant||"primary",onClick:e.onClick,href:e.href,icon:e.icon,children:e.label},t))]})]}),N||(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((e,t)=>{var n;return(0,r.jsx)("div",{className:"space-y-4",children:null==(n=e.fields)?void 0:n.map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-lg ".concat(e.highlight?"font-semibold text-blue-600":""),children:k(a[e.key],e)})]},t))},t)})}),w&&a[w]&&(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),k(a[w],{type:"status"})]})]})}):(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,r.jsx)(s.A,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:v}),g&&(0,r.jsx)(o(),{href:g,children:(0,r.jsx)(c.A,{variant:"outline",children:h})})]})})})};var u=a(90824);function m(){let e=(0,l.useParams)(),t=(0,l.useRouter)(),[a,s]=(0,n.useState)(null),[c,i]=(0,n.useState)(!0),[o,m]=(0,n.useState)(""),{showConfirm:x,showError:g}=(0,u.h)();(0,n.useEffect)(()=>{h()},[e.id]);let h=async()=>{try{let t=await fetch("/api/products/".concat(e.id));if(t.ok){let e=await t.json();s(e.product)}else m("Product not found")}catch(e){console.error("Error fetching product:",e),m("Failed to fetch product details")}finally{i(!1)}};return(0,r.jsx)(d,{title:"Product Details",data:a,fields:[{fields:[{key:"productCode",label:"Product Code",type:"text",highlight:!0},{key:"name",label:"Product Name",type:"text"},{key:"hsnCode",label:"HSN Code",type:"text"}]},{fields:[{key:"gstRate",label:"GST Rate",type:"percentage"},{key:"createdAt",label:"Created Date",type:"date"},{key:"updatedAt",label:"Last Updated",type:"date"}]}],loading:c,error:o,editPath:"/dashboard/products/edit/".concat(e.id),backPath:"/dashboard/products",backText:"Back to Products",showEdit:!0,showDelete:!0,onDelete:()=>{x('Are you sure you want to delete "'.concat(null==a?void 0:a.name,'"?'),"Confirm Delete",async()=>{try{(await fetch("/api/products/".concat(e.id),{method:"DELETE"})).ok?t.push("/dashboard/products"):g("Failed to delete product")}catch(e){console.error("Error deleting product:",e),g("Failed to delete product")}})},emptyMessage:"Product not found"})}},90824:(e,t,a)=>{"use strict";a.d(t,{h:()=>n});var r=a(1521);let n=()=>{let[e,t]=(0,r.useState)({isOpen:!1,title:"",message:"",type:"info",onConfirm:null,confirmText:"OK",cancelText:"Cancel",showCancelButton:!1,size:"md"}),a=(0,r.useCallback)(e=>{t({isOpen:!0,title:e.title||"",message:e.message||"",type:e.type||"info",onConfirm:e.onConfirm||null,confirmText:e.confirmText||"OK",cancelText:e.cancelText||"Cancel",showCancelButton:e.showCancelButton||!1,size:e.size||"md"})},[]),n=(0,r.useCallback)(()=>{t(e=>({...e,isOpen:!1}))},[]),l=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a({title:t,message:e,type:"success",onConfirm:r,confirmText:"OK",showCancelButton:!1})},[a]),s=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Error",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a({title:t,message:e,type:"error",onConfirm:r,confirmText:"OK",showCancelButton:!1})},[a]),c=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Warning",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a({title:t,message:e,type:"warning",onConfirm:r,onCancel:n,confirmText:"Continue",cancelText:"Cancel",showCancelButton:!0})},[a]),i=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Information",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a({title:t,message:e,type:"info",onConfirm:r,confirmText:"OK",showCancelButton:!1})},[a]),o=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Confirm",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a({title:t,message:e,type:"warning",onConfirm:r,onCancel:n,confirmText:"Yes",cancelText:"No",showCancelButton:!0})},[a]);return{modalState:e,showModal:a,hideModal:n,showSuccess:l,showError:s,showWarning:c,showInfo:i,showConfirm:o}}}},e=>{e.O(0,[96,358],()=>e(e.s=38938)),_N_E=e.O()}]);