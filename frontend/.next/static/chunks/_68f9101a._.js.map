{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/Anusha/Documents/Collectbot/imp/prima-erp/frontend/lib/auth.js"],"sourcesContent":["import apiClient from './api';\n\n// Get current user from the backend API\nexport async function getCurrentUser() {\n  try {\n    const response = await apiClient.getCurrentUser();\n    return response.user;\n  } catch (error) {\n    console.error('Error getting current user:', error);\n    return null;\n  }\n}\n\n// Check if user is authenticated\nexport async function isAuthenticated() {\n  try {\n    const user = await getCurrentUser();\n    return !!user;\n  } catch {\n    return false;\n  }\n}\n\n// Login function\nexport async function login(credentials) {\n  try {\n    const response = await apiClient.login(credentials);\n    return response;\n  } catch (error) {\n    console.error('Login error:', error);\n    throw error;\n  }\n}\n\n// Logout function\nexport async function logout() {\n  try {\n    const response = await apiClient.logout();\n    return response;\n  } catch (error) {\n    console.error('Logout error:', error);\n    throw error;\n  }\n}\n\n// Check user permissions\nexport function hasPermission(user, permission) {\n  if (!user) return false;\n  \n  // Admin has all permissions\n  if (user.role === 'admin') return true;\n  \n  // Check specific permissions based on role\n  const rolePermissions = {\n    manager: ['read', 'write', 'delete'],\n    accountant: ['read', 'write'],\n    agent: ['read']\n  };\n  \n  return rolePermissions[user.role]?.includes(permission) || false;\n}\n\n// Get user role display name\nexport function getRoleDisplayName(role) {\n  const roleNames = {\n    admin: 'Administrator',\n    manager: 'Manager',\n    accountant: 'Accountant',\n    agent: 'Delivery Agent'\n  };\n  \n  return roleNames[role] || role;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,oIAAS,CAAC,cAAc;QAC/C,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO;IACT;AACF;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,OAAO,MAAM;QACnB,OAAO,CAAC,CAAC;IACX,EAAE,UAAM;QACN,OAAO;IACT;AACF;AAGO,eAAe,MAAM,WAAW;IACrC,IAAI;QACF,MAAM,WAAW,MAAM,oIAAS,CAAC,KAAK,CAAC;QACvC,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,MAAM;IACR;AACF;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,oIAAS,CAAC,MAAM;QACvC,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,MAAM;IACR;AACF;AAGO,SAAS,cAAc,IAAI,EAAE,UAAU;QAarC;IAZP,IAAI,CAAC,MAAM,OAAO;IAElB,4BAA4B;IAC5B,IAAI,KAAK,IAAI,KAAK,SAAS,OAAO;IAElC,2CAA2C;IAC3C,MAAM,kBAAkB;QACtB,SAAS;YAAC;YAAQ;YAAS;SAAS;QACpC,YAAY;YAAC;YAAQ;SAAQ;QAC7B,OAAO;YAAC;SAAO;IACjB;IAEA,OAAO,EAAA,6BAAA,eAAe,CAAC,KAAK,IAAI,CAAC,cAA1B,iDAAA,2BAA4B,QAAQ,CAAC,gBAAe;AAC7D;AAGO,SAAS,mBAAmB,IAAI;IACrC,MAAM,YAAY;QAChB,OAAO;QACP,SAAS;QACT,YAAY;QACZ,OAAO;IACT;IAEA,OAAO,SAAS,CAAC,KAAK,IAAI;AAC5B","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///Users/Anusha/Documents/Collectbot/imp/prima-erp/frontend/app/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { getCurrentUser } from \"@/lib/auth\";\n\nexport default function HomePage() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const user = await getCurrentUser();\n        if (user) {\n          router.push(\"/dashboard\");\n        } else {\n          router.push(\"/login\");\n        }\n      } catch (error) {\n        console.error(\"Auth check failed:\", error);\n        router.push(\"/login\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    checkAuth();\n  }, [router]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return null; // Will redirect to appropriate page\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;8BAAC;YACR,MAAM;gDAAY;oBAChB,IAAI;wBACF,MAAM,OAAO,MAAM,IAAA,4IAAc;wBACjC,IAAI,MAAM;4BACR,OAAO,IAAI,CAAC;wBACd,OAAO;4BACL,OAAO,IAAI,CAAC;wBACd;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,sBAAsB;wBACpC,OAAO,IAAI,CAAC;oBACd,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;6BAAG;QAAC;KAAO;IAEX,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,OAAO,MAAM,oCAAoC;AACnD;GApCwB;;QACP,kJAAS;;;KADF","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///Users/Anusha/Documents/Collectbot/imp/prima-erp/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}