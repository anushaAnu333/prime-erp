"use strict";exports.id=245,exports.ids=[245],exports.modules={5204:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(55016),e=c(43161);let f=({isOpen:a,onClose:b,title:c,message:f,children:g,type:h="info",showCloseButton:i=!0,onConfirm:j,confirmText:k="OK",cancelText:l="Cancel",showCancelButton:m=!1,size:n="md"})=>{if((0,e.useEffect)(()=>{let c=a=>{"Escape"===a.key&&b()};return a&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[a,b]),!a)return null;let o=(()=>{switch(h){case"success":return{icon:(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),iconBg:"bg-green-100",iconColor:"text-green-600",titleColor:"text-green-800",borderColor:"border-green-200"};case"error":return{icon:(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),iconBg:"bg-red-100",iconColor:"text-red-600",titleColor:"text-red-800",borderColor:"border-red-200"};case"warning":return{icon:(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),iconBg:"bg-yellow-100",iconColor:"text-yellow-600",titleColor:"text-yellow-800",borderColor:"border-yellow-200"};default:return{icon:(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconBg:"bg-blue-100",iconColor:"text-blue-600",titleColor:"text-blue-800",borderColor:"border-blue-200"}}})(),p=(()=>{switch(n){case"sm":return"max-w-md";case"lg":return"max-w-2xl";default:return"max-w-lg"}})(),q=()=>{b()};return(0,d.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,d.jsxs)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:b}),(0,d.jsx)("div",{className:`relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full ${p}`,children:(0,d.jsxs)("div",{className:`border-l-4 ${o.borderColor}`,children:[(0,d.jsx)("div",{className:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,d.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,d.jsx)("div",{className:`mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full sm:mx-0 sm:h-10 sm:w-10 ${o.iconBg}`,children:(0,d.jsx)("div",{className:o.iconColor,children:o.icon})}),(0,d.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left w-full",children:[c&&(0,d.jsx)("h3",{className:`text-lg font-medium leading-6 ${o.titleColor} mb-4`,children:c}),g?(0,d.jsx)("div",{className:"mt-2",children:g}):(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)("p",{className:"text-sm text-gray-500",children:f})})]})]})}),!g&&(0,d.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,d.jsx)("button",{type:"button",className:`inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto ${"success"===h?"bg-green-600 hover:bg-green-500":"error"===h?"bg-red-600 hover:bg-red-500":"warning"===h?"bg-yellow-600 hover:bg-yellow-500":"bg-blue-600 hover:bg-blue-500"}`,onClick:()=>{j&&j(),b()},children:k}),m&&(0,d.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:q,children:l}),i&&!m&&(0,d.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:q,children:"Close"})]})]})})]})})}},60230:(a,b,c)=>{var d=c(30);c.o(d,"useParams")&&c.d(b,{useParams:function(){return d.useParams}}),c.o(d,"usePathname")&&c.d(b,{usePathname:function(){return d.usePathname}}),c.o(d,"useRouter")&&c.d(b,{useRouter:function(){return d.useRouter}})},73723:(a,b,c)=>{c.d(b,{A:()=>e});var d=c(55016);c(43161);let e=({type:a="text",label:b,placeholder:c,value:e,onChange:f,onBlur:g,onFocus:h,error:i,success:j,disabled:k=!1,required:l=!1,readOnly:m=!1,className:n="",size:o="md",fullWidth:p=!0,icon:q,iconPosition:r="left",helperText:s,...t})=>{let u=["block w-full border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-0 text-gray-900 placeholder-gray-500",{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-4 py-3 text-base"}[o],{default:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",error:"border-red-300 focus:border-red-500 focus:ring-red-500",success:"border-green-300 focus:border-green-500 focus:ring-green-500"}[i?"error":j?"success":"default"],k?"bg-gray-50 cursor-not-allowed text-gray-500":"bg-white",p?"w-full":"",q&&"left"===r?"pl-10":"",q&&"right"===r?"pr-10":"",n].filter(Boolean).join(" ");return(0,d.jsxs)("div",{className:`${p?"w-full":""}`,children:[b&&(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[b,l&&(0,d.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,d.jsxs)("div",{className:"relative",children:[q&&"left"===r&&(0,d.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,d.jsx)("span",{className:"text-gray-400",children:q})}),(0,d.jsx)("input",{type:a,className:u,placeholder:c,value:e,onChange:f,onBlur:g,onFocus:h,disabled:k,required:l,readOnly:m,...t}),q&&"right"===r&&(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,d.jsx)("span",{className:"text-gray-400",children:q})})]}),i&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i}),j&&(0,d.jsx)("p",{className:"mt-1 text-sm text-green-600",children:j}),s&&!i&&!j&&(0,d.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s})]})}},76245:(a,b,c)=>{c.d(b,{A:()=>p});var d=c(55016),e=c(43161),f=c(60230),g=c(61193),h=c(73723),i=c(95239),j=c(17175),k=c(5204),l=c(80880),m=c(7443),n=c.n(m);let o=({title:a,fields:b=[],initialData:c={},onSubmit:f,onCancel:m,submitText:o="Submit",cancelText:p="Cancel",loading:q=!1,error:r=null,success:s=null,validation:t={},className:u="",layout:v="grid",showCancel:w=!0,showReset:x=!1,resetText:y="Reset",redirectPath:z=null,onSuccess:A=null,size:B="md",children:C,backPath:D,backText:E="Back",...F})=>{let[G,H]=(0,e.useState)(c),[I,J]=(0,e.useState)({}),[K,L]=(0,e.useState)({}),{modalState:M,showSuccess:N,showError:O,hideModal:P}=(0,l.h)();(0,e.useEffect)(()=>{H(c)},[c]);let Q=(a,b)=>{H(c=>({...c,[a]:b})),I[a]&&J(b=>({...b,[a]:null}))},R=(a,b)=>{let c=t[a];if(!c)return null;let d=[];if(c.required&&(!b||""===b.toString().trim())&&d.push(`${c.label||a} is required`),c.minLength&&b&&b.toString().length<c.minLength&&d.push(`${c.label||a} must be at least ${c.minLength} characters`),c.maxLength&&b&&b.toString().length>c.maxLength&&d.push(`${c.label||a} must be no more than ${c.maxLength} characters`),c.pattern&&b&&!c.pattern.test(b)&&d.push(c.message||`${c.label||a} format is invalid`),c.custom){let a=c.custom(b,G);a&&d.push(a)}return d.length>0?d[0]:null},S=async a=>{if(a.preventDefault(),!(()=>{let a={},c=!0;return b.forEach(b=>{let d=R(b.name,G[b.name]);d&&(a[b.name]=d,c=!1)}),J(a),c})())return void O("Please fix the errors in the form");try{let a=await f(G);A?A(a):(N(s||"Form submitted successfully!"),z&&(window.location.href=z))}catch(a){console.error("Form submission error:",a),O(a.message||"Failed to submit form")}},T=a=>{let b=I[a.name],c=K[a.name],e=b&&c,f={value:G[a.name]||"",onChange:b=>Q(a.name,b.target.value),onBlur:()=>(a=>{L(b=>({...b,[a]:!0})),R(a,G[a])})(a.name),error:e?b:null,disabled:q||a.disabled,required:a.required,placeholder:a.placeholder,helperText:a.helperText,icon:a.icon,iconPosition:a.iconPosition,size:a.size||B};switch(a.type){case"select":return(0,d.jsx)(i.A,{...f,options:a.options||[],onChange:b=>Q(a.name,b),placeholder:a.placeholder||`Select ${a.label}`});case"textarea":return(0,d.jsxs)("div",{className:a.fullWidth?"w-full":"",children:[a.label&&(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.label,a.required&&(0,d.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,d.jsx)("textarea",{...f,rows:a.rows||4,className:`block w-full border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-0 px-4 py-2 text-sm text-gray-900 placeholder-gray-500 ${e?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`}),e&&(0,d.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b})]});case"checkbox":return(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"checkbox",checked:G[a.name]||!1,onChange:b=>Q(a.name,b.target.checked),disabled:q||a.disabled,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,d.jsxs)("label",{className:"ml-2 block text-sm text-gray-900",children:[a.label,a.required&&(0,d.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]})]});default:return(0,d.jsx)(h.A,{...f,type:a.type||"text"})}};return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:[(0,d.jsxs)("div",{className:`w-full max-w-md ${u}`,children:[D&&(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsxs)(n(),{href:D,className:"inline-flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[(0,d.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),E]})}),(0,d.jsxs)(g.A,{className:"p-6",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800 text-center",children:a}),r&&(0,d.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,d.jsx)("p",{className:"text-red-600",children:r})}),(0,d.jsxs)("form",{onSubmit:S,className:"space-y-4",...F,children:["grid"===v?(0,d.jsx)("div",{className:"space-y-4",children:b.map((a,b)=>(0,d.jsx)("div",{children:T(a)},b))}):(0,d.jsx)("div",{className:"space-y-4",children:b.map((a,b)=>(0,d.jsx)("div",{children:T(a)},b))}),C,(0,d.jsxs)("div",{className:"flex gap-3 pt-4 justify-end",children:[(0,d.jsx)(j.A,{type:"submit",disabled:q,loading:q,className:"bg-blue-600 hover:bg-blue-700 text-white",children:o}),x&&(0,d.jsx)(j.A,{type:"button",variant:"secondary",onClick:()=>{H(c),J({}),L({})},disabled:q,className:"px-4",children:y})]})]})]})]}),(0,d.jsx)(k.A,{isOpen:M.isOpen,onClose:P,title:M.title,message:M.message,type:M.type,onConfirm:M.onConfirm,confirmText:M.confirmText,cancelText:M.cancelText,showCancelButton:M.showCancelButton,size:M.size})]})};function p({productId:a=null,onSuccess:b}){let c=(0,f.useRouter)(),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)({name:"",hsnCode:"",gstRate:"5"}),k=async b=>{h(!0);let c=a?`/api/products/${a}`:"/api/products",d=await fetch(c,{method:a?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...b,gstRate:parseInt(b.gstRate)})});if(!d.ok)throw Error((await d.json()).message||"Failed to save product");let e=await d.json();return h(!1),e};return(0,d.jsx)(o,{title:a?"Edit Product":"Add New Product",fields:[{name:"name",label:"Product Name",type:"text",placeholder:"Enter product name",required:!0,validation:{required:!0,minLength:2,maxLength:50}},{name:"hsnCode",label:"HSN Code",type:"text",placeholder:"Enter HSN code",required:!0,validation:{required:!0,minLength:4,maxLength:20}},{name:"gstRate",label:"GST Rate",type:"select",placeholder:"Select GST rate",required:!0,options:[{value:"0",label:"0%"},{value:"5",label:"5%"},{value:"12",label:"12%"},{value:"18",label:"18%"},{value:"28",label:"28%"}],validation:{required:!0}}],initialData:i,onSubmit:k,onSuccess:d=>{b?b(d):a?c.push(`/dashboard/products/${a}`):j({name:"",hsnCode:"",gstRate:"5"})},onCancel:()=>{c.push("/dashboard/products")},submitText:a?"Update":"Create",cancelText:"Cancel",showReset:!a,resetText:"Reset",loading:g,success:a?"Product updated successfully!":"Product created successfully!",redirectPath:a?`/dashboard/products/${a}`:null,backPath:"/dashboard/products",backText:"Back"})}},80880:(a,b,c)=>{c.d(b,{h:()=>e});var d=c(43161);let e=()=>{let[a,b]=(0,d.useState)({isOpen:!1,title:"",message:"",type:"info",onConfirm:null,confirmText:"OK",cancelText:"Cancel",showCancelButton:!1,size:"md"}),c=(0,d.useCallback)(a=>{b({isOpen:!0,title:a.title||"",message:a.message||"",type:a.type||"info",onConfirm:a.onConfirm||null,confirmText:a.confirmText||"OK",cancelText:a.cancelText||"Cancel",showCancelButton:a.showCancelButton||!1,size:a.size||"md"})},[]),e=(0,d.useCallback)(()=>{b(a=>({...a,isOpen:!1}))},[]),f=(0,d.useCallback)((a,b="Success",d=null)=>{c({title:b,message:a,type:"success",onConfirm:d,confirmText:"OK",showCancelButton:!1})},[c]),g=(0,d.useCallback)((a,b="Error",d=null)=>{c({title:b,message:a,type:"error",onConfirm:d,confirmText:"OK",showCancelButton:!1})},[c]),h=(0,d.useCallback)((a,b="Warning",d=null,e=null)=>{c({title:b,message:a,type:"warning",onConfirm:d,onCancel:e,confirmText:"Continue",cancelText:"Cancel",showCancelButton:!0})},[c]),i=(0,d.useCallback)((a,b="Information",d=null)=>{c({title:b,message:a,type:"info",onConfirm:d,confirmText:"OK",showCancelButton:!1})},[c]),j=(0,d.useCallback)((a,b="Confirm",d,e=null)=>{c({title:b,message:a,type:"warning",onConfirm:d,onCancel:e,confirmText:"Yes",cancelText:"No",showCancelButton:!0})},[c]);return{modalState:a,showModal:c,hideModal:e,showSuccess:f,showError:g,showWarning:h,showInfo:i,showConfirm:j}}},95239:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(55016),e=c(43161);let f=({options:a=[],value:b,onChange:c,placeholder:f="Select an option",searchable:g=!1,loading:h=!1,disabled:i=!1,error:j=!1,onSearch:k=null,displayKey:l="label",valueKey:m="value",className:n=""})=>{let[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(""),s=(0,e.useRef)(null);(0,e.useEffect)(()=>{let a=a=>{s.current&&!s.current.contains(a.target)&&(p(!1),r(""))};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let t=g&&q?a.filter(a=>a[l].toLowerCase().includes(q.toLowerCase())):a;return(0,d.jsxs)("div",{className:`relative ${n}`,ref:s,children:[(0,d.jsx)("button",{type:"button",onClick:a=>{a.preventDefault(),a.stopPropagation(),!i&&(p(!o),o||r(""))},disabled:i,className:`
          w-full px-3 py-2.5 text-left border rounded-lg shadow-sm bg-white text-gray-900
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
          disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed
          ${j?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"}
          ${o?"ring-2 ring-blue-500 border-blue-500":""}
        `,children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:`${b?"text-gray-900":"text-gray-500"} truncate text-sm flex-1 min-w-0`,children:(()=>{let c=a.find(a=>a[m]===b);return c?c[l]:f})()}),(0,d.jsx)("svg",{className:`w-4 h-4 text-gray-400 transition-transform ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),o&&(0,d.jsxs)("div",{className:"absolute z-[9999] w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[g&&(0,d.jsx)("div",{className:"p-2 border-b border-gray-200",children:(0,d.jsx)("input",{type:"text",value:q,onChange:a=>{let b=a.target.value;r(b),k&&k(b)},placeholder:"Search...",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded bg-white text-gray-900 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0})}),(0,d.jsx)("div",{className:"max-h-48 overflow-y-auto",children:h?(0,d.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500",children:"Loading..."}):0===t.length?(0,d.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500",children:q?"No options found":"No options available"}):t.map((a,e)=>(0,d.jsx)("button",{type:"button",onClick:b=>((a,b)=>{b.preventDefault(),b.stopPropagation(),c&&"function"==typeof c&&c(a[m]),p(!1),r("")})(a,b),className:`
                    w-full px-3 py-2 text-left text-sm hover:bg-gray-100 focus:bg-gray-100 focus:outline-none cursor-pointer
                    ${a[m]===b?"bg-blue-50 text-blue-900":"text-gray-900"}
                  `,children:a[l]},a[m]||e))})]})]})}}};